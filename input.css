@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * Custom Base Styles
 * Smooth scroll is handled here, with JS checking for prefers-reduced-motion
 */
@layer base {
    html {
        scroll-behavior: smooth;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    @media (prefers-reduced-motion: reduce) {
        html {
            scroll-behavior: auto;
        }
    }

    body {
        /* Don't lock colors in base layer - let HTML classes control light/dark theme */
        @apply font-inter antialiased overflow-x-hidden;
    }
}

/* 
 * Custom Utility Classes
 * Minimal custom utilities for gradient text and 3D transforms
 */
@layer utilities {
    .text-gradient {
        background: linear-gradient(to right, #00D4FF, #0055FF);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .preserve-3d {
        transform-style: preserve-3d;
    }

    .backface-hidden {
        backface-visibility: hidden;
    }

    .perspective-1000 {
        perspective: 1000px;
    }
}

/*
 * Custom Keyframe Animations
 * Required for SVG animations and parallax effects not covered by Tailwind defaults
 */
@keyframes spin {
    100% { transform: rotate(360deg); }
}

@keyframes pulse-svg {
    0%, 100% { 
        transform: scale(1); 
        opacity: 0.5; 
    }
    50% { 
        transform: scale(1.05); 
        opacity: 0.8; 
    }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
    20%, 40%, 60%, 80% { transform: translateX(4px); }
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/*
 * SVG Animation Classes
 * Applied to hero SVG elements
 * Note: For SVG elements, use 50% 50% which calculates from the element's bounding box center
 */
.spin-slow {
    transform-origin: 50% 50%;
    animation: spin 20s linear infinite;
}

@media (prefers-reduced-motion: reduce) {
    .spin-slow {
        animation: none;
    }
}

.pulse {
    transform-origin: 50% 50%;
    animation: pulse-svg 3s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
    .pulse {
        animation: none;
    }
}

.float {
    animation: float 6s ease-in-out infinite;
}

@media (prefers-reduced-motion: reduce) {
    .float {
        animation: none;
    }
}

/*
 * Parallax Layer Classes
 * Applied via JS, speeds defined as data attributes
 */
[data-parallax-layer] {
    will-change: transform;
}

/* 
 * 3D Tilt Effect Classes
 * Only active on desktop (pointer: fine), disabled on touch and reduced-motion
 */
@media (pointer: fine) and (prefers-reduced-motion: no-preference) {
    [data-tilt] {
        transform-style: preserve-3d;
        transition: transform 0.1s ease-out;
    }
    
    [data-tilt-glare] {
        position: absolute;
        inset: 0;
        border-radius: inherit;
        pointer-events: none;
        background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), rgba(255,255,255,0.15), transparent 50%);
        opacity: 0;
        transition: opacity 0.3s;
    }
    
    [data-tilt]:hover [data-tilt-glare] {
        opacity: 1;
    }
}